<div class="article {{.class}}">
  <div class="article__inner">

    <div class="article__head">
      {{ if and (.context.Params.Image) (.context.Params.video_embed) }}
      <div class="video-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
          <polygon points="40,30 70,50 40,70"></polygon>
        </svg>
      </div>
      {{ end }}

      {{ if .context.Params.Image }}
      <a class="article__image" href="{{ .context.RelPermalink }}" aria-hidden="true" tabindex="-1">
        <img class="lazy" data-src="{{ .context.Params.Image | absURL }}" alt="{{ .context.Title }}">
      </a>
      {{ end }}
    </div>

    <div class="article__content">

      <div class="article__meta">
        {{ if .context.Params.tags }}
        <div class="article__tags">
          {{ range (.context.GetTerms "tags") }}
            <a href="{{ .Permalink }}" class="article__tag">{{ .LinkTitle }}</a>
          {{ end }}
        </div>
        {{ end }}
        <span class="article__date">â€¢<time datetime="{{ .context.Date.Format "2006-01-02T15:04:05Z07:00" }}">{{ .context.Date.Format "Jan 2, 2006" }}</time></span>
      </div>

      <h2 class="article__title">
        <a href="{{ .context.RelPermalink }}">{{ .context.Title }}</a>
      </h2>

      <p class="article__excerpt">{{ if .context.Description }}{{ .context.Description }}{{ else }}{{ truncate 250 .context.Summary | safeHTML }}{{ end }}</p>

      <div class="article__info">
        {{ if .context.Params.authors }}
        <div class="article__info__top">
        {{ range .context.Params.authors }}
          {{ with $.context.Site.GetPage "taxonomyTerm" (printf "authors/%s" (urlize .)) }}
            <a href="{{ .Permalink }}" class="article__author__image">
              <img class="lazy" data-src="{{ .Params.image }}" alt="{{ .Params.name }}">
            </a>
          {{ end }}
        {{ end }}
        </div>
        {{ end }}

        <div class="article__info__bottom">
          <span>Written by</span>
          {{ if .context.Params.authors }}
          {{ if gt .context.Params.authors 2 }}
          <div class="article__info__inner">
            {{ range first 1 .context.Params.authors }}
              {{ with $.context.Site.GetPage "taxonomyTerm" (printf "authors/%s" (urlize .)) }}
                <a class="article__author__name article__author__hidden" href="{{ .Permalink }}">{{ .Params.name }}</a><span> & others</span>
              {{ end }}
            {{ end }}
          </div>
          {{ else }}
          <div class="article__info__inner">
            {{ range $index, $author := first 2 .context.Params.authors }}
              {{ with $.context.Site.GetPage "taxonomyTerm" (printf "authors/%s" (urlize $author)) }}
                <a class="article__author__name" href="{{ .Permalink }}">{{ .Params.name }}</a>{{ if and (eq $index 0) (gt (len $.context.Params.authors) 1) }} & {{ end }}
              {{ end }}
            {{ end }}
          </div>
          {{ end }}
          {{ end }}
        </div>
      </div>

    </div>
  </div>
</div>